<!DOCTYPE html>
<html lang="en">
<head>
    <title>Secure Login | DispatchNexus</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #0f172a; height: 100vh; display: flex; align-items: center; justify-content: center; font-family: 'Segoe UI', sans-serif; }
        .login-card { background: #1e293b; border: 1px solid #334155; padding: 40px; border-radius: 15px; width: 400px; color: white; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .form-control { background: #0f172a; border: 1px solid #334155; color: white; padding: 12px; }
        .form-control:focus { background: #0f172a; border-color: #3b82f6; color: white; box-shadow: none; }
        .btn-login { background: #3b82f6; border: none; padding: 12px; font-weight: bold; width: 100%; margin-top: 20px; transition: 0.3s; }
        .btn-login:hover { background: #2563eb; }
    </style>
</head>
<body>

<div class="login-card">
    <div class="text-center mb-4">
        <h3 class="fw-bold">Welcome Back</h3>
        <p class="text-white-50">Enter your credentials to access the Control Tower.</p>
    </div>

    <form method="post">
        {% csrf_token %} {% if form.errors %}
            <div class="alert alert-danger small p-2 mb-3">
                Invalid username or password. Please try again.
            </div>
        {% endif %}

        <div class="mb-3">
            <label class="small text-white-50 fw-bold mb-1">Username</label>
            {{ form.username }} 
            </div>

        <div class="mb-3">
            <label class="small text-white-50 fw-bold mb-1">Password</label>
            {{ form.password }}
        </div>

        <button type="submit" class="btn btn-primary btn-login">Sign In Securely</button>
        
        <input type="hidden" name="next" value="{{ next }}">
    </form>

    <div class="text-center mt-4">
        <a href="{% url 'register' %}" class="text-white-50 small text-decoration-none">New here? <span class="text-white">Create an Account</span></a>
    </div>
</div>

<script>
    document.querySelectorAll('input').forEach(input => {
        input.classList.add('form-control');
        input.classList.add('rounded-3');
    });
</script>

</body>
</html>