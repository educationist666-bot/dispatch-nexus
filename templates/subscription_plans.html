<!DOCTYPE html>
<html lang="en">
<head>
    <title>Select Plan | DispatchNexus</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .strike { text-decoration: line-through; color: #dc3545; font-size: 1.2rem; }
        .countdown-box { background: #fee2e2; color: #b91c1c; padding: 10px; border-radius: 8px; font-weight: bold; margin-bottom: 30px; display: inline-block; }
    </style>
</head>
<body class="bg-light d-flex align-items-center justify-content-center" style="min-height:100vh;">
    <div class="container text-center py-5">
        
        <div class="countdown-box">
            ðŸ”¥ FLASH SALE ENDS IN: <span id="timer">22d 00h 00m 00s</span>
        </div>

        <h1 class="fw-bold mb-5">Save 40% Today</h1>
        <div class="row justify-content-center g-4">
            
            <div class="col-md-3">
                <div class="card h-100 p-4 border-0 shadow-sm">
                    <h4>Starter</h4>
                    <h1><span class="strike">$35</span> $25</h1>
                    <small class="text-muted">/month</small>
                    <ul class="list-unstyled mt-3 mb-4 text-start small">
                        <li>âœ… 3 Trucks Max</li>
                        <li>âœ… Basic Dashboard</li>
                        <li>âœ… Document Storage</li>
                    </ul>
                    <a href="{% url 'process_payment' %}?plan=starter" class="btn btn-outline-dark w-100">Select Starter</a>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card h-100 p-4 border-primary border-3 shadow">
                    <div class="badge bg-primary mb-2">BEST VALUE</div>
                    <h4>Professional</h4>
                    <h1><span class="strike">$112</span> $80</h1>
                    <small class="text-muted">/month</small>
                    <ul class="list-unstyled mt-3 mb-4 text-start small fw-bold">
                        <li>âœ… 10 Trucks Max</li>
                        <li>âœ… Net Profit Calc</li>
                        <li>âœ… Document Cloud</li>
                        <li>âœ… Owner Portal (Viewer)</li>
                    </ul>
                    <a href="{% url 'process_payment' %}?plan=pro" class="btn btn-primary w-100">Select Pro</a>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card h-100 p-4 border-0 shadow-sm">
                    <h4>Enterprise</h4>
                    <h1><span class="strike">$140</span> $100</h1>
                    <small class="text-muted">/month</small>
                    <ul class="list-unstyled mt-3 mb-4 text-start small">
                        <li>âœ… Unlimited Trucks</li>
                        <li>âœ… Owner Login (View Only)</li>
                        <li>âœ… Priority Support</li>
                    </ul>
                    <a href="{% url 'process_payment' %}?plan=enterprise" class="btn btn-outline-dark w-100">Select Enterprise</a>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Simple 22 Day Countdown
        const endDate = new Date();
        endDate.setDate(endDate.getDate() + 22); 
        
        setInterval(() => {
            const now = new Date();
            const diff = endDate - now;
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            document.getElementById("timer").innerHTML = `${d}d ${h}h ${m}m 00s`;
        }, 1000);
    </script>
</body>
</html>